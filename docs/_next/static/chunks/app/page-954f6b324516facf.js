(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{777:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,PomodoroProvider:()=>n});var s=r(5155),o=r(2115);let a=(0,o.createContext)(void 0),l="pomodoro_settings",n=e=>{let{children:t}=e,[r,n]=(0,o.useState)("idle"),[i,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(!1),[m,x]=(0,o.useState)(0),[p,b]=(0,o.useState)(45),[f,v]=(0,o.useState)(5);return(0,o.useEffect)(()=>{let e=localStorage.getItem(l);if(e){let{pomodoro:t,rest:r}=JSON.parse(e);b(null!=t?t:45),v(null!=r?r:5)}},[]),(0,o.useEffect)(()=>{if(!d||m<=0)return;let e=setInterval(()=>{x(e=>e-1)},1e3);return()=>clearInterval(e)},[d,m]),(0,o.useEffect)(()=>{d&&0===m&&("work"===r?(n("rest"),x(60*f)):"rest"===r&&(n("idle"),c(null),u(!1)))},[d,m,r,f]),(0,s.jsx)(a.Provider,{value:{mode:r,activeTaskId:i,timeLeft:m,isRunning:d,pomodoroDuration:p,restDuration:f,start:e=>{c(e),n("work"),x(60*p),u(!0)},pause:()=>u(!1),resume:()=>u(!0),stop:()=>{u(!1),n("idle"),c(null),x(0)},setDurations:(e,t)=>{b(e),v(t),localStorage.setItem(l,JSON.stringify({pomodoro:e,rest:t}))}},children:t})},i=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("usePomodoro must be used within a PomodoroProvider");return e}},4303:(e,t,r)=>{"use strict";r.d(t,{TaskProvider:()=>n,s:()=>i});var s=r(5155),o=r(2115);let a=(0,o.createContext)(void 0),l="pomodoro_tasks",n=e=>{let{children:t}=e,[r,n]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=localStorage.getItem(l);e&&n(JSON.parse(e))},[]),(0,o.useEffect)(()=>{localStorage.setItem(l,JSON.stringify(r))},[r]),(0,s.jsx)(a.Provider,{value:{tasks:r,addTask:e=>{n(t=>[{...e,id:crypto.randomUUID(),totalTimeSpent:0,completed:!1,pinned:!1,memo:""},...t])},editTask:(e,t)=>{n(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteTask:e=>{n(t=>t.filter(t=>t.id!==e))},incrementTaskTime:(e,t)=>{n(r=>r.map(r=>r.id===e?{...r,totalTimeSpent:r.totalTimeSpent+t}:r))},toggleTaskCompleted:e=>{n(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},toggleTaskPinned:e=>{n(t=>t.map(t=>t.id===e?{...t,pinned:!t.pinned}:t))}},children:t})},i=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useTasks must be used within a TaskProvider");return e}},4436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var s=r(2115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(o),l=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,o,a;s=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in s?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,n({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:o,size:a,title:i}=e,d=function(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l),u=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>t(e)):t(o)}},4510:(e,t,r)=>{Promise.resolve().then(r.bind(r,9710))},9710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),o=r(2115),a=r(4303),l=r(351);function n(e){let{onStart:t}=e,{tasks:r,deleteTask:o,toggleTaskCompleted:n,toggleTaskPinned:i}=(0,a.s)(),c=[...r].sort((e,t)=>e.pinned&&!t.pinned?-1:!e.pinned&&t.pinned||e.completed&&!t.completed?1:!e.completed&&t.completed?-1:0);return 0===r.length?(0,s.jsx)("span",{className:"block text-center text-[#B8B8C6] py-8",children:"No tasks yet. Add your first task!"}):(0,s.jsx)("ul",{className:"w-full flex flex-col divide-y divide-[#2D2E36]",children:c.map(e=>(0,s.jsxs)("li",{className:"group flex items-start px-2 py-4 relative bg-transparent transition-colors duration-150 ".concat(e.completed?"opacity-60":""),children:[(0,s.jsx)("button",{className:"mr-3 mt-1 text-lg transition-colors ".concat(e.pinned?"text-[#F25F8B]":"text-[#B8B8C6] hover:text-[#F25F8B]"),onClick:()=>i(e.id),title:e.pinned?"Unpin":"Pin",children:(0,s.jsx)(l.usP,{})}),(0,s.jsx)("button",{className:"mr-4 mt-1 text-xl transition-colors ".concat(e.completed?"text-[#F25F8B]":"text-[#B8B8C6] hover:text-white"),onClick:()=>n(e.id),title:e.completed?"Mark as incomplete":"Mark as complete",children:e.completed?(0,s.jsx)(l.NLe,{}):(0,s.jsx)(l.TG1,{})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-base font-medium ".concat(e.completed?"line-through text-[#B8B8C6]":"text-white"),children:e.title})}),e.description&&(0,s.jsx)("p",{className:"text-xs mt-1 text-[#B8B8C6]",children:e.description}),e.memo&&(0,s.jsx)("p",{className:"text-xs mt-1 italic text-[#F25F8B]",children:e.memo})]}),(0,s.jsxs)("div",{className:"flex gap-2 ml-4 items-center",children:[(0,s.jsx)("button",{className:"text-[#B8B8C6] hover:text-[#F25F8B] p-1 rounded transition-colors",onClick:()=>t(e.id),title:"Start timer",children:(0,s.jsx)(l.aze,{size:18})}),(0,s.jsx)("button",{className:"text-[#B8B8C6] hover:text-[#F25F8B] p-1 rounded transition-colors",onClick:()=>o(e.id),title:"Delete",children:(0,s.jsx)(l.IXo,{size:18})})]})]},e.id))})}var i=r(777);function c(e){let{open:t,onClose:r}=e,{pomodoroDuration:a,restDuration:l,setDurations:n}=(0,i.H)(),[c,d]=(0,o.useState)(a),[u,m]=(0,o.useState)(l);return((0,o.useEffect)(()=>{d(a),m(l)},[a,l,t]),t)?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50 transition-all",children:(0,s.jsxs)("div",{className:"bg-[var(--bg-color)] rounded-soft soft-shadow border border-[var(--border)] p-8 w-full max-w-xs flex flex-col gap-6",children:[(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",style:{color:"var(--color-pink)"},children:"Settings"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,s.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Pomodoro duration (minutes)"}),(0,s.jsx)("input",{type:"number",min:1,max:120,className:"p-3 rounded-soft border border-[var(--border)] bg-[var(--bg-dark)] focus:outline-none focus:ring-2 focus:ring-[var(--color-pink)] soft-shadow text-white placeholder-[var(--text-muted)]",value:c,onChange:e=>d(Number(e.target.value))})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,s.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Rest duration (minutes)"}),(0,s.jsx)("input",{type:"number",min:1,max:60,className:"p-3 rounded-soft border border-[var(--border)] bg-[var(--bg-dark)] focus:outline-none focus:ring-2 focus:ring-[var(--color-pink)] soft-shadow text-white placeholder-[var(--text-muted)]",value:u,onChange:e=>m(Number(e.target.value))})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-soft bg-[var(--bg-dark)] text-[var(--text-muted)] hover:bg-[var(--bg-color)] border border-[var(--border)] transition-all",onClick:r,children:"Cancel"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-soft bg-[var(--color-pink)] text-white font-medium hover:bg-[var(--accent-alt)] soft-shadow border border-[var(--border)] transition-all",onClick:()=>{n(c,u),r()},children:"Save"})]})]})}):null}function d(e){let{mode:t}=e,{activeTaskId:r,timeLeft:n,isRunning:c,pause:d,stop:u,resume:m}=(0,i.H)(),{tasks:x,incrementTaskTime:p,toggleTaskCompleted:b}=(0,a.s)(),f=(0,o.useRef)(null),v=x.find(e=>e.id===r);return((0,o.useEffect)(()=>{if("work"!==t||!r||!c){f.current=null;return}let e=Math.floor(n/60);null===f.current?f.current=e:e<f.current&&(f.current-e==1&&p(r,1),f.current=e)},[n,t,r,c,p]),v)?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] w-full transition-colors duration-500 ".concat("rest"===t?"bg-[var(--rest-accent)]/60":"bg-transparent"," rounded-soft soft-shadow"),style:{boxShadow:"var(--shadow)",borderRadius:"var(--radius)",background:"rest"===t?"var(--rest-accent)":"transparent",transition:"background 0.5s"},children:[(0,s.jsxs)("div",{className:"mb-6 text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",style:{color:"var(--primary-text)"},children:v.title}),(0,s.jsx)("p",{className:"text-base max-w-md mx-auto",style:{color:"var(--secondary-text)"},children:v.description})]}),(0,s.jsx)("div",{className:"mb-4 text-base font-medium",style:{color:"rest"===t?"#4B7B2B":"var(--accent)"},children:"work"===t?"Pomodoro":"Rest"}),(0,s.jsx)("div",{className:"text-7xl font-mono mb-8",style:{color:"var(--primary-text)",letterSpacing:"0.04em"},children:function(e){let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}(n)}),(0,s.jsxs)("div",{className:"flex gap-6 mt-2",children:[c?(0,s.jsxs)("button",{className:"flex items-center gap-2 p-3 rounded-full bg-[var(--bg-dark)] hover:bg-[var(--bg-color)] text-[var(--text-muted)] hover:text-white border border-[var(--border)] transition-all",onClick:d,title:"Pause",children:[(0,s.jsx)(l.GHw,{size:22})," ",(0,s.jsx)("span",{className:"hidden sm:inline",children:"Pause"})]}):(0,s.jsxs)("button",{className:"flex items-center gap-2 p-3 rounded-full bg-[var(--bg-dark)] hover:bg-[var(--bg-color)] text-[var(--text-muted)] hover:text-white border border-[var(--border)] transition-all",onClick:()=>{r&&m()},title:"Resume",children:[(0,s.jsx)(l.aze,{size:22})," ",(0,s.jsx)("span",{className:"hidden sm:inline",children:"Resume"})]}),(0,s.jsx)("button",{className:"p-3 rounded-full bg-[var(--bg-dark)] hover:bg-[var(--bg-color)] text-[var(--color-pink)] border border-[var(--border)] transition-all",onClick:u,title:"Stop",children:(0,s.jsx)(l.yGN,{size:22})}),(0,s.jsx)("button",{className:"p-3 rounded-full bg-[var(--bg-dark)] hover:bg-[var(--bg-color)] text-[var(--color-green)] border border-[var(--border)] transition-all",onClick:()=>{r&&b(r),u()},title:"Finish task",children:(0,s.jsx)(l.YrT,{size:22})})]})]}):null}function u(){let{addTask:e}=(0,a.s)(),{mode:t,start:r}=(0,i.H)(),[u,m]=(0,o.useState)(!1),[x,p]=(0,o.useState)(""),[b,f]=(0,o.useState)(""),[v,h]=(0,o.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"absolute top-4 right-4 p-2 rounded-full bg-[var(--bg-dark)] hover:bg-[var(--bg-color)] text-[var(--text-muted)] hover:text-white border border-[var(--border)] transition-all z-10",onClick:()=>m(!0),title:"Settings",children:(0,s.jsx)(l.VSk,{size:20})}),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:[(0,s.jsx)("div",{className:"w-full max-w-md bg-[#23242a] rounded-2xl shadow-2xl px-0 py-0 flex flex-col relative",style:{boxShadow:"0 8px 32px 0 rgba(0,0,0,0.18)"},children:"idle"!==t?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(d,{mode:t})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!x.trim())return void h("Task title is required");e({title:x.trim(),description:b.trim()}),p(""),f(""),h("")},className:"flex items-center gap-2 px-8 mt-4 mb-2",children:[(0,s.jsx)("input",{className:"flex-1 bg-[#292a30] text-white placeholder-[#B8B8C6] rounded-lg px-4 py-2 border border-transparent focus:border-[#F25F8B] focus:outline-none text-base transition-all",placeholder:"Add a task...",value:x,onChange:e=>{p(e.target.value),h("")},maxLength:60}),(0,s.jsx)("button",{className:"text-[#B8B8C6]",children:(0,s.jsx)(l.GGD,{size:18})})]}),v&&(0,s.jsx)("div",{className:"text-[#F25F8B] text-xs px-8 pb-1",children:v}),(0,s.jsx)("div",{className:"px-2 pb-6 pt-2",children:(0,s.jsx)(n,{onStart:r})})]})}),(0,s.jsx)(c,{open:u,onClose:()=>m(!1)})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,441,684,358],()=>t(4510)),_N_E=e.O()}]);