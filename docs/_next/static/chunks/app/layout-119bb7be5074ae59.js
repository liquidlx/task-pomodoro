(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},777:(e,t,r)=>{"use strict";r.d(t,{H:()=>n,PomodoroProvider:()=>i});var s=r(5155),o=r(2115);let a=(0,o.createContext)(void 0),l="pomodoro_settings",i=e=>{let{children:t}=e,[r,i]=(0,o.useState)("idle"),[n,d]=(0,o.useState)(null),[m,u]=(0,o.useState)(!1),[c,p]=(0,o.useState)(0),[f,v]=(0,o.useState)(45),[S,_]=(0,o.useState)(5);return(0,o.useEffect)(()=>{let e=localStorage.getItem(l);if(e){let{pomodoro:t,rest:r}=JSON.parse(e);v(null!=t?t:45),_(null!=r?r:5)}},[]),(0,o.useEffect)(()=>{if(!m||c<=0)return;let e=setInterval(()=>{p(e=>e-1)},1e3);return()=>clearInterval(e)},[m,c]),(0,o.useEffect)(()=>{m&&0===c&&("work"===r?(i("rest"),p(60*S)):"rest"===r&&(i("idle"),d(null),u(!1)))},[m,c,r,S]),(0,s.jsx)(a.Provider,{value:{mode:r,activeTaskId:n,timeLeft:c,isRunning:m,pomodoroDuration:f,restDuration:S,start:e=>{d(e),i("work"),p(60*f),u(!0)},pause:()=>u(!1),resume:()=>u(!0),stop:()=>{u(!1),i("idle"),d(null),p(0)},setDurations:(e,t)=>{v(e),_(t),localStorage.setItem(l,JSON.stringify({pomodoro:e,rest:t}))}},children:t})},n=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("usePomodoro must be used within a PomodoroProvider");return e}},4075:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4147,23)),Promise.resolve().then(r.t.bind(r,8489,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,777)),Promise.resolve().then(r.bind(r,4303))},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},4303:(e,t,r)=>{"use strict";r.d(t,{TaskProvider:()=>i,s:()=>n});var s=r(5155),o=r(2115);let a=(0,o.createContext)(void 0),l="pomodoro_tasks",i=e=>{let{children:t}=e,[r,i]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=localStorage.getItem(l);e&&i(JSON.parse(e))},[]),(0,o.useEffect)(()=>{localStorage.setItem(l,JSON.stringify(r))},[r]),(0,s.jsx)(a.Provider,{value:{tasks:r,addTask:e=>{i(t=>[{...e,id:crypto.randomUUID(),totalTimeSpent:0,completed:!1,pinned:!1,memo:""},...t])},editTask:(e,t)=>{i(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteTask:e=>{i(t=>t.filter(t=>t.id!==e))},incrementTaskTime:(e,t)=>{i(r=>r.map(r=>r.id===e?{...r,totalTimeSpent:r.totalTimeSpent+t}:r))},toggleTaskCompleted:e=>{i(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},toggleTaskPinned:e=>{i(t=>t.map(t=>t.id===e?{...t,pinned:!t.pinned}:t))}},children:t})},n=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useTasks must be used within a TaskProvider");return e}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,441,684,358],()=>t(4075)),_N_E=e.O()}]);